/*!
 * Platform.js v1.1.0 <http://mths.be/platform>
 * Copyright 2010-2014 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */

(function(){function h(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t){var n=-1,r=e?e.length:0;if(typeof r=="number"&&r>-1&&r<=o)while(++n<r)t(e[n],n,e);else v(e,t)}function d(e){return e=w(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function v(e,t){for(var n in e)l.call(e,n)&&t(e[n],n,e)}function m(e){return e==null?h(e):c.call(e).slice(8,-1)}function g(e,t){var n=e!=null?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&(n=="object"?!!e[t]:!0)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var n=null;return p(e,function(r,i){n=t(n,r,i,e)}),n}function w(e){return String(e).replace(/^ +| +$/g,"")}function E(e){function z(t){return b(t,function(t,n){return t||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(e)&&(n.label||n)})}function W(t){return b(t,function(t,n,r){return t||(n[q]||n[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(q)]||RegExp("\\b"+y(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}function X(t){return b(t,function(t,n){return t||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(e)&&(n.label||n)})}function V(t){return b(t,function(t,n){var r=n.pattern||y(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(_={6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(t)&&(_=_[0,/[\d.]+$/.exec(t)])&&(t="Windows "+_),t=d(String(t).replace(RegExp(r,"i"),n.label||n).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/Mac (OS X)/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])),t})}function $(t){return b(t,function(t,n){var r=n.pattern||y(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=d(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function J(t){return b(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function K(){return this.description||""}var r=t,i=e&&typeof e=="object"&&m(e)!="String";i&&(r=e,e=null);var s=r.navigator||{},o=s.userAgent||"";e||(e=o);var f=i||a==n,l=i?!!s.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(c.toString()),h="Object",p=i?h:"ScriptBridgingProxyObject",S=i?h:"Environment",x=i&&r.java?"JavaPackage":m(r.java),T=i?h:"RuntimeObject",N=/Java/.test(x)&&r.java,C=N&&m(r.environment)==S,k=N?"a":"α",L=N?"b":"β",A=r.document||{},O=r.operamini||r.opera,M=u.test(M=i&&O?O["[[Class]]"]:m(O))?M:O=null,_,D=e,P=[],H=null,B=e==o,j=B&&O&&typeof O.version=="function"&&O.version(),F=z([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),I=X(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),q=$([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),R=W({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),U=V(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);F&&(F=[F]),R&&!q&&(q=$([R]));if(_=/Google TV/.exec(q))q=_[0];/\bSimulator\b/i.test(e)&&(q=(q?q+" ":"")+"Simulator");if(/^iP/.test(q))I||(I="Safari"),U="iOS"+((_=/ OS ([\d_]+)/i.exec(e))?" "+_[1].replace(/_/g,"."):"");else if(I=="Konqueror"&&!/buntu/i.test(U))U="Kubuntu";else if(R&&R!="Google"&&(/Chrome/.test(I)&&!/Mobile Safari/.test(e)||/Vita/.test(q)))I="Android Browser",U=/Android/.test(U)?U:"Android";else if(!I||(_=!/\bMinefield\b|\(Android;/i.test(e)&&/Firefox|Safari/.exec(I)))I&&!q&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(_+"/")+8))&&(I=null),(_=q||R||U)&&(q||R||/Android|Symbian OS|Tablet OS|webOS/.test(U))&&(I=/[a-z]+(?: Hat)?/i.exec(/Android/.test(U)?U:_)+" Browser");(_=/\((Mobile|Tablet).*?Firefox/i.exec(e))&&_[1]&&(U="Firefox OS",q||(q=_[1])),j||(j=J(["(?:Cloud9|CriOS|CrMo|Iron|Opera ?Mini|OPR|Raven|Silk(?!/[\\d.]+$))","Version",y(I),"(?:Firefox|Minefield|NetFront)"])),F=="iCab"&&parseFloat(j)>3?F=["WebKit"]:(_=/Opera/.test(I)&&(/OPR/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&"WebKit"||!F&&/\bMSIE\b/i.test(e)&&(U=="Mac OS"?"Tasman":"Trident"))?F=[_]:/PlayStation(?! Vita)/i.test(I)&&F=="WebKit"&&(F=["NetFront"]),!I&&F=="Trident"&&(I="IE",j=(/\brv:([\d.]+)/.exec(e)||0)[1]);if(B){if(g(r,"global")){N&&(_=N.lang.System,D=_.getProperty("os.arch"),U=U||_.getProperty("os.name")+" "+_.getProperty("os.version"));if(g(r,"exports"))if(f&&g(r,"system")&&(_=[r.system])[0]){U||(U=_[0].os||null);try{_[1]=(_[1]=r.require)&&_[1]("ringo/engine").version,j=_[1].join("."),I="RingoJS"}catch(Q){_[0].global.system==r.system&&(I="Narwhal")}}else typeof r.process=="object"&&(_=r.process)?(I="Node.js",D=_.arch,U=_.platform,j=/[\d.]+/.exec(_.version)[0]):C&&(I="Rhino");else C&&(I="Rhino")}else m(_=r.runtime)==p?(I="Adobe AIR",U=_.flash.system.Capabilities.os):m(_=r.phantom)==T?(I="PhantomJS",j=(_=_.version||null)&&_.major+"."+_.minor+"."+_.patch):typeof A.documentMode=="number"&&(_=/\bTrident\/(\d+)/i.exec(e))&&(j=[j,A.documentMode],(_=+_[1]+4)!=j[1]&&(P.push("IE "+j[1]+" mode"),F&&(F[1]=""),j[1]=_),j=I=="IE"?String(j[1].toFixed(1)):j[0]);U=U&&d(U)}j&&(_=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(B&&s.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(H=/b/i.test(_)?"beta":"alpha",j=j.replace(RegExp(_+"\\+?$"),"")+(H=="beta"?L:k)+(/\d+\+?/.exec(_)||"")),I=="Fennec"||I=="Firefox"&&/Android|Firefox OS/.test(U)?I="Firefox Mobile":I=="Maxthon"&&j?j=j.replace(/\.[\d.]+/,".x"):I=="Silk"?(/Mobi/i.test(e)||(U="Android",P.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&P.unshift("accelerated")):I=="IE"&&(_=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(I+=" Mobile",U="Windows Phone OS "+_+".x",P.unshift("desktop mode")):/Xbox/i.test(q)?(U=null,q=="Xbox 360"&&/IEMobile/.test(e)&&P.unshift("mobile mode")):(I=="Chrome"||I=="IE"||I&&!q&&!/Browser|Mobi/.test(I))&&(U=="Windows CE"||/Mobi/i.test(e))?I+=" Mobile":I=="IE"&&B&&r.external===null?P.unshift("platform preview"):(/BlackBerry/.test(q)||/BB10/.test(e))&&(_=(RegExp(q.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(_=[_,/BB10/.test(e)],U=(_[1]?(q=null,R="BlackBerry"):"Device Software")+" "+_[0],j=null):this!=v&&q!="Wii"&&(B&&O||/Opera/.test(I)&&/\b(?:MSIE|Firefox)\b/i.test(e)||I=="Firefox"&&/OS X (?:\d+\.){2,}/.test(U)||I=="IE"&&(U&&!/^Win/.test(U)&&j>5.5||/Windows XP/.test(U)&&j>8||j==8&&!/Trident/.test(e)))&&!u.test(_=E.call(v,e.replace(u,"")+";"))&&_.name&&(_="ing as "+_.name+((_=_.version)?" "+_:""),u.test(I)?(/IE/.test(_)&&U=="Mac OS"&&(U=null),_="identify"+_):(_="mask"+_,M?I=d(M.replace(/([a-z])([A-Z])/g,"$1 $2")):I="Opera",/IE/.test(_)&&(U=null),B||(j=null)),F=["Presto"],P.push(_));if(_=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1]){_=[parseFloat(_.replace(/\.(\d)$/,".0$1")),_];if(I=="Safari"&&_[1].slice(-1)=="+")I="WebKit Nightly",H="alpha",j=_[1].slice(0,-1);else if(j==_[1]||j==(_[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))j=null;_[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],_[0]==537.36&&_[2]==537.36&&parseFloat(_[1])>=28&&(F=["Blink"]),!B||!l&&!_[1]?(F&&(F[1]="like Safari"),_=(_=_[0],_<400?1:_<500?2:_<526?3:_<533?4:_<534?"4+":_<535?5:_<537?6:_<538?7:"7")):(F&&(F[1]="like Chrome"),_=_[1]||(_=_[0],_<530?1:_<532?2:_<532.05?3:_<533?4:_<534.03?5:_<534.07?6:_<534.1?7:_<534.13?8:_<534.16?9:_<534.24?10:_<534.3?11:_<535.01?12:_<535.02?"13+":_<535.07?15:_<535.11?16:_<535.19?17:_<536.05?18:_<536.1?19:_<537.01?20:_<537.11?"21+":_<537.13?23:_<537.18?24:_<537.24?25:_<537.36?26:F!="Blink"?"27":"28")),F&&(F[1]+=" "+(_+=typeof _=="number"?".x":/[.+]/.test(_)?"":"+")),I=="Safari"&&(!j||parseInt(j)>45)&&(j=_)}I=="Opera"&&(_=/(?:zbov|zvav)$/.exec(U))?(I+=" ",P.unshift("desktop mode"),_=="zvav"?(I+="Mini",j=null):I+="Mobile"):I=="Safari"&&/Chrome/.exec(F&&F[1])&&(P.unshift("desktop mode"),I="Chrome Mobile",j=null,/OS X/.test(U)?(R="Apple",U="iOS 4.3+"):U=null),j&&j.indexOf(_=/[\d.]+$/.exec(U))==0&&e.indexOf("/"+_+"-")>-1&&(U=w(U.replace(_,""))),F&&!/Avant|Nook/.test(I)&&(/Browser|Lunascape|Maxthon/.test(I)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(I)&&F[1])&&(_=F[F.length-1])&&P.push(_),P.length&&(P=["("+P.join("; ")+")"]),R&&q&&q.indexOf(R)<0&&P.push("on "+R),q&&P.push((/^on /.test(P[P.length-1])?"":"on ")+q),U&&(_=/ ([\d.+]+)$/.exec(U),U={architecture:32,family:_?U.replace(_[0],""):U,version:_?_[1]:null,toString:function(){var e=this.version;return this.family+(e?" "+e:"")+(this.architecture==64?" 64-bit":"")}}),(_=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(D))&&!/\bi686\b/i.test(D)&&(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+_),"")),I&&(/WOW64/i.test(e)||B&&/\w(?:86|32)$/.test(s.cpuClass||s.platform))&&P.unshift("32-bit")),e||(e=null);var G={};return G.description=e,G.layout=F&&F[0],G.manufacturer=R,G.name=I,G.prerelease=H,G.product=q,G.ua=e,G.version=I&&j,G.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},G.parse=E,G.toString=K,G.version&&P.unshift(j),G.name&&P.unshift(I),U&&I&&(U!=String(U).split(" ")[0]||U!=I.split(" ")[0]&&!q)&&P.push(q?"("+U+")":"on "+U),P.length&&(G.description=P.join(" ")),G}var e={"function":!0,object:!0},t=e[typeof window]&&window||this,n=t,r=e[typeof exports]&&exports,i=e[typeof module]&&module&&!module.nodeType&&module,s=r&&i&&typeof global=="object"&&global;s&&(s.global===s||s.window===s||s.self===s)&&(t=s);var o=Math.pow(2,53)-1,u=/Opera/,a=this,f=Object.prototype,l=f.hasOwnProperty,c=f.toString;typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("vendor/platform",[],function(){return E()}):r&&i?v(E(),function(e,t){r[t]=e}):t.platform=E()}).call(this),function(){define("browser",["vendor/platform"],function(e){var t,n,r,i,s,o,u,a,f,l;i=window.document.documentElement,s=function(e){var t;return t=new RegExp(e,"i"),i.className.match(t)},l=function(e){return i.className=(e||"").replace(/\s+/," ").trim()},r=function(e){if(!s(e))return l(i.className+" "+e)},f=function(e){if(s(e))return l(i.className.replace(e,""))},f("no-js"),f("nojs"),t=function(){function e(){}return e}(),t.classes=function(){var t,n,r;return r=e.name.toLowerCase(),n={"os x":"mac"},t=e.os.family.toLowerCase(),t=n[t]||t.split(" ")[0],["ua-"+r,"os-"+t,""+t+"-"+r,"ua-"+e.name.toLowerCase()+parseInt(e.version)]},a=t.classes();for(o=0,u=a.length;o<u;o++)n=a[o],r(n);return t})}.call(this);